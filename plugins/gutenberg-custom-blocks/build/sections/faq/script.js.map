{"version":3,"file":"sections/faq/script.js","mappings":"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","sources":["webpack://gutenberg-custom-blocks/./src/sections/faq/script.js"],"sourcesContent":["window.addEventListener(\"DOMContentLoaded\", () => {\r\n    const accordions = document.querySelectorAll('[data-accordion]');\r\n    function scrollToEl(el) {\r\n        let header = document.querySelector('[data-header]');\r\n        if (el) {\r\n            let elTop = Math.abs(document.body.getBoundingClientRect().top) + el.getBoundingClientRect().top;\r\n            let headerHeight = header ? header.clientHeight : 0;\r\n            let viewportHeight = window.innerHeight;\r\n\r\n            let top = elTop - (viewportHeight * 0.05) - headerHeight;\r\n\r\n            setTimeout(() => {\r\n                window.scrollTo({\r\n                    top: top,\r\n                    behavior: 'smooth',\r\n                });\r\n            }, 0);\r\n        }\r\n    }\r\n\r\n    if (accordions.length) {\r\n        accordions.forEach(accordion => {\r\n            let isOneActiveItem = accordion.dataset.accordion.trim() === 'one' ? true : false;\r\n\r\n            accordion.addEventListener('click', (e) => {\r\n                if (e.target.closest('[data-accordion-trigger]')) {\r\n                    const trigger = e.target.closest('[data-accordion-trigger]');\r\n                    let parent = trigger.parentElement;\r\n                    let content = trigger.nextElementSibling;\r\n\r\n                    e.preventDefault();\r\n\r\n                    parent.classList.toggle('active');\r\n                    trigger.classList.toggle('active');\r\n                    content && slideToggle(content, 300);\r\n\r\n                    if (trigger.classList.contains('active')) {\r\n                        setTimeout(async () => {\r\n                            const isCardVisible = await checkElementVisibility(parent);\r\n                            if (!isCardVisible) {\r\n                                scrollToEl(parent);\r\n                            }\r\n                        }, 300);\r\n                    }\r\n\r\n                    if (isOneActiveItem) {\r\n                        Array.from(accordion.children).forEach(i => {\r\n                            if (i === parent) return;\r\n\r\n                            const trigger = i.querySelector('[data-accordion-trigger]');\r\n                            const content = trigger.nextElementSibling;\r\n\r\n                            i.classList.remove('active');\r\n                            trigger.classList.remove('active');\r\n                            content && slideUp(content, 300);\r\n                        })\r\n                    }\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    const faqSections = document.querySelectorAll('[data-faq]');\r\n    faqSections.forEach(faqSection => {\r\n        const category = faqSection.getAttribute('data-selected-categories');\r\n        const popular = faqSection.getAttribute('data-popular');\r\n        const postsContainer = faqSection.querySelector('[data-posts-container]');\r\n        const btnShowMore = faqSection.querySelector('[data-action=\"show-more-btn\"]');\r\n        const loader = Loader.create();\r\n        const state = new Store({ category, popular: !!popular, page: 1 });\r\n\r\n\r\n        state.onUpdate(async (prevState, state) => {\r\n            loader.addTo(faqSection);\r\n\r\n            const res = await Fetch(`/question?category=${state.category}&page=${state.page}&popular=${state.popular}&posts_per_page=5`);\r\n            if (res?.posts) {\r\n                renderLoadedCards(res.posts, postsContainer, prevState.category == state.category);\r\n                btnShowMore && btnShowMore.classList.toggle('!hidden', res.max_num_pages == state.page);\r\n            }\r\n\r\n            loader.remove();\r\n        });\r\n\r\n        btnShowMore && btnShowMore.addEventListener('click', () => {\r\n            state.setState({ page: state.getState().page + 1 });\r\n        });\r\n\r\n        function renderLoadedCards(posts, container) {\r\n            if (!container) return;\r\n\r\n            if (posts && posts.length) {\r\n                posts.forEach(post => {\r\n                    container.insertAdjacentHTML('beforeend', `\r\n                        <div class=\"nested-bg-item rounded-[12px] border border-dark-primary-10 transition-colors [&.active]:border-accent-first hover:border-accent-first\">\r\n                            <div data-accordion-trigger class=\"flex items-center justify-between gap-[24px] py-[16px] md:py-[10px] 4xl:py-[16px] pl-[16px] md:pl-[30px] pr-[10px] min-h-[82px] md:min-h-[70px] cursor-pointer [&.active_.plus-icon-square]:bg-accent-first [&.active_.item-2]:bg-white [&.active_.item-1]:scale-y-0 [&:not(.active)_.plus-icon-square]:hover:bg-accent-first-10 [&_.title]:hover:text-accent-first\">\r\n                                <div class=\"title text-xl font-medium text-dark-primary transition-colors\">\r\n                                    ${post.title}\r\n                                </div>\r\n                                <div class=\"plus-icon-square ml-auto grow-0 shrink-0 w-[50px] h-[50px] border-[2px] border-accent-first rounded-[8px] bg-accent-first-5 relative transition-colors\">\r\n                                    <span class=\"item-1 absolute block bg-accent-first transition-colors top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 h-[16px] w-[2px]\"></span>\r\n                                    <span class=\"item-2 absolute block bg-accent-first transition top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 h-[2px] w-[16px]\"></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"hidden mt-[-4px] md:mt-0 pb-[16px] md:pb-[30px] pl-[32px] md:pl-[50px] pr-[26px] md:pr-[134px] text-dark-primary-60\">\r\n                                ${post.content}\r\n                            </div>\r\n                        </div>\r\n                    `);\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        if (faqSection.classList.contains('[&_.show-more-btn]:!hidden')) {\r\n            const buttonsGroup = faqSection.querySelector('.button-group');\r\n            if (buttonsGroup.children.length == 1) {\r\n                buttonsGroup.classList.add('!hidden');\r\n            }\r\n        }\r\n    })\r\n});"],"names":["window","addEventListener","accordions","document","querySelectorAll","scrollToEl","el","header","querySelector","elTop","Math","abs","body","getBoundingClientRect","top","headerHeight","clientHeight","viewportHeight","innerHeight","setTimeout","scrollTo","behavior","length","forEach","accordion","isOneActiveItem","dataset","trim","e","target","closest","trigger","parent","parentElement","content","nextElementSibling","preventDefault","classList","toggle","slideToggle","contains","isCardVisible","checkElementVisibility","Array","from","children","i","remove","slideUp","faqSections","faqSection","category","getAttribute","popular","postsContainer","btnShowMore","loader","Loader","create","state","Store","page","onUpdate","prevState","addTo","res","Fetch","posts","renderLoadedCards","max_num_pages","setState","getState","container","post","insertAdjacentHTML","title","buttonsGroup","add"],"sourceRoot":""}