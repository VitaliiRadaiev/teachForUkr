{"version":3,"file":"sections/people-tabs/script.js","mappings":";;;;AACAA,MAAM,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAC9C,MAAMC,kBAAkB,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,oBAAoB,CAAC;EAC1EF,kBAAkB,CAACG,OAAO,CAACC,iBAAiB,IAAI;IAC5C,MAAMC,cAAc,GAAGD,iBAAiB,CAACE,aAAa,CAAC,wBAAwB,CAAC;IAChF,MAAMC,WAAW,GAAGH,iBAAiB,CAACE,aAAa,CAAC,+BAA+B,CAAC;IACpF,MAAME,UAAU,GAAGJ,iBAAiB,CAACF,gBAAgB,CAAC,oBAAoB,CAAC;IAC3E,MAAMO,MAAM,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC;IAC9B,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAAC;MAAEC,QAAQ,EAAEV,iBAAiB,CAACW,YAAY,CAAC,uBAAuB,CAAC;MAAEC,IAAI,EAAE;IAAE,CAAC,CAAC;IAEvGJ,KAAK,CAACK,QAAQ,CAAC,OAAOC,SAAS,EAAEN,KAAK,KAAK;MACvCH,MAAM,CAACU,KAAK,CAACf,iBAAiB,CAAC;MAE/BgB,mBAAmB,CAACZ,UAAU,EAAEI,KAAK,CAACE,QAAQ,CAAC;MAE/C,MAAMO,GAAG,GAAG,MAAMC,KAAK,CAAC,oBAAoBV,KAAK,CAACE,QAAQ,SAASF,KAAK,CAACI,IAAI,oBAAoB,CAAC;MAElG,IAAIK,GAAG,EAAEE,KAAK,EAAE;QACZC,iBAAiB,CAACH,GAAG,CAACE,KAAK,EAAElB,cAAc,EAAEa,SAAS,CAACJ,QAAQ,IAAIF,KAAK,CAACE,QAAQ,CAAC;QAClFP,WAAW,IAAIA,WAAW,CAACkB,SAAS,CAACC,MAAM,CAAC,SAAS,EAAEL,GAAG,CAACM,aAAa,IAAIf,KAAK,CAACI,IAAI,CAAC;MAC3F;MAEAP,MAAM,CAACmB,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC;IAEFrB,WAAW,IAAIA,WAAW,CAACR,gBAAgB,CAAC,OAAO,EAAE,MAAM;MACvDa,KAAK,CAACiB,QAAQ,CAAC;QAAEb,IAAI,EAAEJ,KAAK,CAACkB,QAAQ,CAAC,CAAC,CAACd,IAAI,GAAG;MAAE,CAAC,CAAC;IACvD,CAAC,CAAC;IAEFR,UAAU,CAACL,OAAO,CAAC4B,MAAM,IAAI;MACzBA,MAAM,CAAChC,gBAAgB,CAAC,OAAO,EAAE,MAAM;QACnCa,KAAK,CAACiB,QAAQ,CAAC;UAAEf,QAAQ,EAAEiB,MAAM,CAAChB,YAAY,CAAC,kBAAkB,CAAC;UAAEC,IAAI,EAAE;QAAE,CAAC,CAAC;MAClF,CAAC,CAAC;IACN,CAAC,CAAC;IAEF,SAASQ,iBAAiBA,CAACD,KAAK,EAAES,SAAS,EAAEC,MAAM,GAAG,KAAK,EAAE;MACzD,IAAI,CAACD,SAAS,EAAE;MAEhB,IAAI,CAACC,MAAM,EAAE;QACTD,SAAS,CAACE,SAAS,GAAG,EAAE;MAC5B;MAEA,IAAIX,KAAK,IAAIA,KAAK,CAACY,MAAM,EAAE;QACvBZ,KAAK,CAACpB,OAAO,CAACiC,IAAI,IAAI;UAClBJ,SAAS,CAACK,kBAAkB,CAAC,WAAW,EAAEC,uBAAuB,CAACF,IAAI,CAAC,CAAC;QAC5E,CAAC,CAAC;MACN;IACJ;IAEA,SAAShB,mBAAmBA,CAACmB,OAAO,EAAEC,eAAe,EAAE;MACnD,IAAI,CAACD,OAAO,IAAI,CAACA,OAAO,CAACJ,MAAM,EAAE;MAEjCI,OAAO,CAACpC,OAAO,CAACsC,GAAG,IAAIA,GAAG,CAAChB,SAAS,CAACC,MAAM,CAAC,QAAQ,EAAEe,GAAG,CAAC1B,YAAY,CAAC,kBAAkB,CAAC,IAAIyB,eAAe,CAAC,CAAC;IACnH;IAEA,IAAIpC,iBAAiB,CAACqB,SAAS,CAACiB,QAAQ,CAAC,4BAA4B,CAAC,EAAE;MACpE,MAAMC,YAAY,GAAGvC,iBAAiB,CAACE,aAAa,CAAC,eAAe,CAAC;MACrEqC,YAAY,CAAClB,SAAS,CAACmB,GAAG,CAAC,SAAS,CAAC;IACzC;EACJ,CAAC,CAAC;AACN,CAAC,CAAC,C","sources":["webpack://gutenberg-custom-blocks/./src/sections/people-tabs/script.js"],"sourcesContent":["\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n    const peopleTabsSections = document.querySelectorAll('[data-people-tabs]');\r\n    peopleTabsSections.forEach(peopleTabsSection => {\r\n        const postsContainer = peopleTabsSection.querySelector('[data-posts-container]');\r\n        const btnShowMore = peopleTabsSection.querySelector('[data-action=\"show-more-btn\"]');\r\n        const tabButtons = peopleTabsSection.querySelectorAll('[data-category-id]');\r\n        const loader = Loader.create();\r\n        const state = new Store({ category: peopleTabsSection.getAttribute('data-initial-category'), page: 1 });\r\n\r\n        state.onUpdate(async (prevState, state) => {\r\n            loader.addTo(peopleTabsSection);\r\n\r\n            setActiveTabButtons(tabButtons, state.category);\r\n\r\n            const res = await Fetch(`/people?category=${state.category}&page=${state.page}&posts_per_page=12`);\r\n\r\n            if (res?.posts) {\r\n                renderLoadedCards(res.posts, postsContainer, prevState.category == state.category);\r\n                btnShowMore && btnShowMore.classList.toggle('!hidden', res.max_num_pages == state.page);\r\n            }\r\n\r\n            loader.remove();\r\n        });\r\n\r\n        btnShowMore && btnShowMore.addEventListener('click', () => {\r\n            state.setState({ page: state.getState().page + 1 });\r\n        });\r\n\r\n        tabButtons.forEach(tabBtn => {\r\n            tabBtn.addEventListener('click', () => {\r\n                state.setState({ category: tabBtn.getAttribute('data-category-id'), page: 1 });\r\n            })\r\n        });\r\n\r\n        function renderLoadedCards(posts, container, append = false) {\r\n            if (!container) return;\r\n\r\n            if (!append) {\r\n                container.innerHTML = '';\r\n            }\r\n\r\n            if (posts && posts.length) {\r\n                posts.forEach(post => {\r\n                    container.insertAdjacentHTML('beforeend', renderPopleCardAsString(post));\r\n                });\r\n            }\r\n        }\r\n\r\n        function setActiveTabButtons(buttons, currentCategory) {\r\n            if (!buttons && !buttons.length) return;\r\n\r\n            buttons.forEach(btn => btn.classList.toggle('active', btn.getAttribute('data-category-id') == currentCategory));\r\n        }\r\n\r\n        if (peopleTabsSection.classList.contains('[&_.show-more-btn]:!hidden')) {\r\n            const buttonsGroup = peopleTabsSection.querySelector('.button-group');\r\n            buttonsGroup.classList.add('!hidden');\r\n        }\r\n    });\r\n});"],"names":["window","addEventListener","peopleTabsSections","document","querySelectorAll","forEach","peopleTabsSection","postsContainer","querySelector","btnShowMore","tabButtons","loader","Loader","create","state","Store","category","getAttribute","page","onUpdate","prevState","addTo","setActiveTabButtons","res","Fetch","posts","renderLoadedCards","classList","toggle","max_num_pages","remove","setState","getState","tabBtn","container","append","innerHTML","length","post","insertAdjacentHTML","renderPopleCardAsString","buttons","currentCategory","btn","contains","buttonsGroup","add"],"sourceRoot":""}